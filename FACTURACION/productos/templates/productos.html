<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Listado de Productos</title>

            {# ‚ûï AGREGADO: Un m√≠nimo de estilo para que no sea tan feo. #}
            <style>
                body 
                    {  font-family: Arial, sans-serif; margin: 40px; }

                h1 
                    {    color: #333; }

                ul 
                    {    list-style: none; padding: 0; }

                li { 
                        background: #f4f4f4; 
                        margin: 10px 0; 
                        padding: 15px; 
                        border-radius: 5px;
                        border-left: 5px solid #007bff;
                    }

                .precio 
                    { 
                        font-weight: bold; 
                        color: #28a745; 
                        font-size: 1.2em;
                    }

                .stock 
                    { 
                        color: #666; 
                        font-size: 0.9em;
                    }
            </style>
    </head>

    <body>
        <h1>üçû Productos disponibles üßà</h1>
        
        {# ‚ûï AGREGADO: Mostramos la lista de productos. #}
            <ul>
                {% comment %}
                # ======================================================================= #
                  üßâ EXPLICACI√ìN: Esto es un bucle en el lenguaje de templates de Django.
                  'productos' es la variable que pasamos desde la vista en el contexto.
                  Django itera sobre cada producto y genera un <li> por cada uno.
                  Por ahora mostramos la representaci√≥n __str__ del modelo, despu√©s lo 
                  vamos a mejorar con detalles lindos.
                # ======================================================================= #
                {% endcomment %}

                {% for producto in productos %}
                    <li>
                        <strong>{{ producto }}</strong> 
                         
                        {% comment %}
                        # ================================================= #
                          Mostramos producto.__str__ que definimos antes.
                          Esto es solo para probar, despu√©s vamos a mostrar
                          los campos por separado con m√°s estilo.
                        # ================================================= #
                        {% endcomment %}
                        
                    </li>
                {% empty %}
                    {# ‚ûï AGREGADO: Si no hay productos, mostramos un mensaje. #}
                    <li>No hay productos cargados a√∫n üò¢</li>
                {% endfor %}
            </ul>

        {# ‚ûï AGREGADO: Versi√≥n temporal con representaci√≥n del QuerySet #}
        <h2>üîç Versi√≥n de prueba (solo para desarrolladores):</h2>
        <p>El QuerySet que viene de la base de datos es:</p>
        <pre>{{ productos }}</pre>
        <p><small>üëÜ Esto es un objeto QuerySet, despu√©s vamos a mostrarlo lindo.</small></p>
        
        {% comment %}
        # ================================================================== #
          üßâ EXPLICACI√ìN DEL TEMPLATE: 
          {{ productos }} en el <pre> muestra la representaci√≥n del QuerySet,
          que por ahora es algo como <QuerySet [<Producto: Yerba...>, ...]>.
          Esto es √∫til para debugging, pero NO es lo que ve el usuario final.
          El bucle {% for %} es la forma correcta de mostrar los datos.
        # ================================================================== #
        {% endcomment %}
        
    </body>
</html>